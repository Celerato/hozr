- quality_findings = @case.classification.code == '1' ? ['a', 'b'] : ['a', 'b', 'c']
#quality_findings.row-fluid
  - FindingClass.find_all_by_code(quality_findings).each do |finding_class|
    .span3= link_to_add_finding_class(@case, finding_class)

#top_findings
  - @case.classification.top_finding_classes.in_groups_of(4, false).each do |finding_classes|
    .row-fluid
      - finding_classes.each do |finding_class|
        .span3= link_to_add_finding_class(@case, finding_class)

= simple_form_for 'finding_class', :url => add_finding_case_path(@case), :remote => true, :id => "finding_classes" do |f|
  .row-fluid
    .span12= f.input :selection, :as => :string, :input_html => {:class => 'span12'}

:javascript
  function formatSelection(item) {
    return item.name
  }
  function format(item) {
    return '<span style="display: inline-block; width: 5em">' + item.id + '</span> ' + item.name
  }

  $('#finding_class_selection').select2({
    placeholder: "Code/Text",
    formatSelection: formatSelection,
    formatResult: format,
    data: #{finding_class_collection.to_json}
  })

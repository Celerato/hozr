<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function() {$('vcard_honorific_prefix').focus()}, false);
//]]>
</script>

<% auto_complete = true if auto_complete.nil? %>
<% auto_complete = false if request.env['REMOTE_USER'] == 'cc' %>
<% fields_for vcard_name, vcard, :builder => Rubaidh::TabularForm::TabularFormBuilder do |address| %>
  <%= address.select 'honorific_prefix', HonorificPrefix.find(:all).collect { |prefix| prefix.name }, :include_blank => true, :label => "Anrede"  %>
  <% if auto_complete %>
    <%= address.text_field_with_auto_complete :family_name, :size => 23, :label => "Nachname" %>
    <%= address.text_field_with_auto_complete :given_name, :size => 23, :label => "Vorname" %>
  <% else %>
    <%= address.text_field :family_name, :size => 23, :label => "Nachname", :autocomplete => 'off' %>
    <%= address.text_field :given_name, :size => 23, :label => "Vorname", :autocomplete => 'off' %>
  <% end %>
  <%= address.text_field :street_address, :size => 23, :label => "Strasse" %>
  <%= address.text_field :extended_address, :size => 23, :label => "c/o" %>
  <%= address.text_field_with_auto_complete :zip_locality, :size => 23, :label => "PLZ/Ort" %>
<% end %>
